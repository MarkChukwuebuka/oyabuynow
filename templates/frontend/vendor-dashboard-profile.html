{% extends "./vendor-dashboard-base.html" %}
{% load static %}
{% load currency_filters %}
{% load rating_tags dict_extras %}

{% block dashboard_content %}
<div class="dashboard-profile">
  <div class="title">
    <h2>My Profile</h2>
    <span class="title-leaf title-leaf-gray">
      <svg class="icon-width bg-gray">
        <use xlink:href="https://themes.pixelstrap.com/fastkart/assets/svg/leaf.svg#leaf"></use>
      </svg>
    </span>
  </div>

    <div class="profile-tab dashboard-bg-box">
                <div class="dashboard-title dashboard-flex">
                    <h3>Vendor Profile</h3>
                    <button class="btn btn-sm theme-bg-color text-white" data-bs-toggle="modal"
                        data-bs-target="#edit-profile">Edit Profile</button>
                </div>

                <ul>
                    <li>
                        <h5>Business Name :</h5>
                        <h5>{{vendor.business_name}}</h5>
                    </li>
                    <li>
                        <h5>Store Name :</h5>
                        <h5>{{vendor.store_name}}</h5>
                    </li>
                    <li>
                        <h5>Business Email Address :</h5>
                        <h5>{{vendor.business_email}}</h5>
                    </li>
                    <li>
                        <h5>Business Phone :</h5>
                        <h5>{{vendor.business_phone}}</h5>
                    </li>

                    <li>
                        <h5>Business Address :</h5>
                        <h5>{{vendor.business_address}}</h5>
                    </li>

                    <li>
                        <h5>Bank Name :</h5>
                        <h5>{{vendor.bank_name}}</h5>
                    </li>
                    <li>
                        <h5>Bank Account Number :</h5>
                        <h5>{{vendor.account_number}}</h5>
                    </li>

                </ul>
            </div>
</div>



<!-- Edit Profile Modal Start -->
    <div class="modal fade theme-modal" id="edit-profile" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel3">Edit Your Profile</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="store_name" class="form-label">Store Name</label>
                            <input type="text" class="form-control" name="store_name" id="store_name" value="{{vendor.store_name}}">
                        </div>


                        <div class="mb-3">
                            <label for="business_email" class="form-label">Business Email Address</label>
                            <input type="email" class="form-control" name="business_email" id="business_email" value="{{vendor.business_email}}">
                        </div>
                        <div class="mb-3">
                            <label for="business_phone" class="form-label">Business Phone</label>
                            <input type="text" class="form-control" name="business_phone" id="business_phone" value="{{vendor.business_phone}}">
                        </div>
                        <div class="mb-3">
                            <label for="bank" class="form-label">Bank Name</label>
                            <select class="form-control" id="bank" name="bank" required>
                                <option selected value="{{vendor.bank_name}}">{{vendor.bank_name}}</option>
                                <option value="">Loading banks...</option>
                            </select>
                        </div>
                        <input type="hidden" name="bank_name" id="bank_name">
                        <div class="mb-3">
                            <label for="account_number" class="form-label">Bank Account Number Address</label>
                            <input type="text" class="form-control" name="account_number" id="account_number" maxlength="10" value="{{vendor.account_number}}">
                            <small id="account_name" class="text-success mt-2 d-block"></small>
                        </div>

                        <div class="mb-3">
                            <label for="business_logo" class="form-label">Business Logo</label>
                            <input type="file" class="form-control" name="business_logo" id="business_logo">
                        </div>

                        {% if vendor.status == "Rejected" %}
                        <div class="mb-3">
                            <label for="profile_photo" class="form-label">Your Picture</label>
                            <input type="file" class="form-control" name="profile_photo" id="profile_photo">
                        </div>

                        <div class="mb-3">
                            <label for="id_card" class="form-label">Valid ID (National ID, Driverâ€™s License, or Passport)</label>
                            <input type="file" class="form-control" name="id_card" id="Id_card">
                        </div>
                        {% endif %}



<!--                        <div class="mb-3">-->
<!--                            <label for="city" class="form-label">City / State</label>-->
<!--                            <input type="email" class="form-control" id="city" value="107 Veltri Drive">-->
<!--                        </div>-->
<!--                        <div class="mb-3">-->
<!--                            <label for="zip" class="form-label">Zip</label>-->
<!--                            <input type="text" class="form-control" id="zip" value="B23 6SN">-->
<!--                        </div>-->

                        <div class="modal-footer">
                            <button type="button" class="btn btn-animation btn-md fw-bold"
                                data-bs-dismiss="modal">Cancel</button>
                            <button type="submit" class="btn theme-bg-color btn-md fw-bold text-light"
                                >Save</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
    <!-- Edit Profile Modal End -->
{% endblock %}
