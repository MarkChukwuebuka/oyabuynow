{% extends "./partials/base.html" %}
{% load static %}

{% block content %}

<!-- About Section Start -->
<section class="seller-poster-section">
    <div class="container-fluid-lg">
        <div class="row">
            <div class="col-xxl-4 order-lg-2">
                <div class="poster-box">
                    <div class="poster-image">
                        <img src="https://themes.pixelstrap.com/fastkart/assets/images/vendor-page/become-saller.svg"
                            class="img-fluid" alt="Become a Vendor">
                    </div>
                </div>
            </div>

            <div class="col-xxl-7">
                <div class="seller-title h-100 d-flex align-items-center">
                    <div>
                        <h2>Become a Vendor on <span class="text-primary">Oyabuynow</span></h2>
                        <p>
                            Join thousands of Nigerian vendors growing their businesses with Oyabuynow.
                            Showcase your products, reach more buyers, and increase your sales across Nigeria —
                            all from one simple dashboard.
                        </p>
                        <p>
                            We provide everything you need to sell online: secure payments, reliable logistics,
                            dedicated support, and tools to manage your store with ease. Whether you sell fashion,
                            electronics, food, or handmade crafts — Oyabuynow helps your business grow faster.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- About Section End -->

<!-- Service Section Start -->
<section class="become-service section-b-space">
    <div class="container-fluid-lg">
        <div class="seller-title mb-5">
            <h2>Why Sell on Oyabuynow?</h2>
        </div>

        <div class="row">
            <div class="col-xxl-3 col-md-6 mb-4">
                <div class="service-box">
                    <div class="service-svg">
                        <i data-feather="dollar-sign" class="service-icon"></i>
                    </div>
                    <div class="service-detail">
                        <h4>Lowest Selling Fees</h4>
                        <p>Enjoy one of the lowest commission rates in the market, helping you earn more from every sale.</p>
                    </div>
                </div>
            </div>

            <div class="col-xxl-3 col-md-6 mb-4">
                <div class="service-box">
                    <div class="service-svg">
                        <i data-feather="trending-up" class="service-icon"></i>
                    </div>
                    <div class="service-detail">
                        <h4>High Growth Potential</h4>
                        <p>Reach thousands of active buyers daily through our marketplace and promotional campaigns.</p>
                    </div>
                </div>
            </div>

            <div class="col-xxl-3 col-md-6 mb-4">
                <div class="service-box">
                    <div class="service-svg">
                        <i data-feather="package" class="service-icon"></i>
                    </div>
                    <div class="service-detail">
                        <h4>Fast & Reliable Logistics</h4>
                        <p>We handle nationwide delivery through trusted courier partners so you can focus on your business.</p>
                    </div>
                </div>
            </div>

            <div class="col-xxl-3 col-md-6 mb-4">
                <div class="service-box">
                    <div class="service-svg">
                        <i data-feather="headphones" class="service-icon"></i>
                    </div>
                    <div class="service-detail">
                        <h4>Dedicated Support</h4>
                        <p>Our vendor success team is available to help you every step of the way — from setup to your first sale.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Service Section End -->


<!-- Vendor Registration Form Start -->
<section class="vendor-register section-b-space" id="vendor-register">
    <div class="container-fluid-lg">
        <div class="seller-title mb-4">
            <h2>Register as a Vendor</h2>
            <p>Fill in the details below to create your free Oyabuynow vendor account.</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <form class="vendor-form" method="POST">
                    {% csrf_token %}

                    <div class="row g-3">
                        {% if not user.is_authenticated %}
                        <h3 class="mb-3">Personal Information</h3>
                        <div class="col-md-6">
                            <label for="first_name" class="form-label">First Name</label>
                            <input type="text" class="form-control" id="first_name" name="first_name" value="{{user.first_name}}">
                        </div>

                        <div class="col-md-6">
                            <label for="last_name" class="form-label">Last Name</label>
                            <input type="text" class="form-control" id="last_name" name="last_name" value="{{user.last_name}}">
                        </div>

                        <div class="col-md-6">
                            <label for="phone" class="form-label">Personal Phone</label>
                            <input type="text" class="form-control" id="phone" name="phone" value="{{user.phone}}">
                        </div>

                        <div class="col-md-6">
                            <label for="email" class="form-label">Personal Email</label>
                            <input type="email" class="form-control" id="email" name="email" value="{{user.email}}">
                        </div>
                        {% endif %}

                        <h2>Business Information</h2>
                        <div class="col-md-6">
                            <label for="business_name" class="form-label">Business Name</label>
                            <input type="text" class="form-control" id="business_name" name="business_name" required>
                        </div>

                        <div class="col-md-6">
                            <label for="store_name" class="form-label">Store Name (What customers will see)</label>
                            <input type="text" class="form-control" id="store_name" name="store_name" required>
                        </div>

                        <div class="col-md-6">
                            <label for="business_email" class="form-label">Business Email Address</label>
                            <input type="email" class="form-control" id="business_email" name="business_email" required>
                        </div>

                        <div class="col-md-6">
                            <label for="business_phone" class="form-label">Business Phone (WhatsApp preferably)</label>
                            <input type="text" class="form-control" id="business_phone" name="business_phone" value="{{user.phone}}">
                        </div>

                        <div class="col-md-6">
                            <label for="profile_photo" class="form-label">Your picture</label>
                            <input type="file" class="form-control" id="profile_photo" name="profile_photo" required>
                        </div>

                        <div class="col-md-6">
                            <label for="business_logo" class="form-label">Business logo</label>
                            <input type="file" class="form-control" id="business_logo" name="business_logo" required>
                        </div>


                        <div class="col-md-6">
                            <label for="id_card" class="form-label">Valid ID (National ID, Driver’s License, or Passport)</label>
                            <input type="file" class="form-control" id="id_card" name="id_card" required>
                        </div>


                        <div class="col-md-6">
                            <label for="bank" class="form-label">Bank</label>
                            <select class="form-control" id="bank" name="bank" required>
                                <option value="">Loading banks...</option>
                            </select>
                        </div>


                        <div class="col-md-6">
                            <label for="account_number" class="form-label">Bank Account Number</label>
                            <input type="text" class="form-control" id="account_number" name="account_number" required maxlength="10">
                            <small id="account_name" class="text-success mt-2 d-block"></small>
                        </div>


                        <div class="col-md-12">
                            <label for="business_address" class="form-label">Business Address</label>
                            <input type="text" class="form-control" id="business_address" name="business_address">
                        </div>

                        {% if not user.is_authenticated %}
                        <div x-data="passwordForm()" class="row g-3">
                            <div class="col-md-6">
                                <label for="password" class="form-label">Password</label>
                                <input type="password" class="form-control" id="password"
                                       name="password"
                                       x-model="fields.password"
                                       @input="validate('password')" required>
                                 <template x-if="errors.password">
                                    <small class="text-danger" x-text="errors.password"></small>
                                </template>
                            </div>

                            <div class="col-md-6">
                                <label for="confirm_password" class="form-label">Confirm Password</label>
                                <input type="password" class="form-control" id="confirm_password"
                                       name="confirmPassword"
                                       x-model="fields.confirmPassword"
                                       @input="validate('confirmPassword')" required>
                                <template x-if="errors.confirmPassword">
                                    <small class="text-danger" x-text="errors.confirmPassword"></small>
                                </template>
                            </div>
                        </div>
                        {% endif %}

                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="agree" name="agree" required>
                                <label class="form-check-label" for="agree">
                                    I agree to the <a href="">Terms & Conditions</a>.
                                </label>
                            </div>
                        </div>

                        <div class="col-12 mt-4">
                            <button type="submit" class="btn btn-animation w-100 justify-content-center text-center">Submit</button>
                        </div>

                        <div class="col-12 text-center mt-3">
                            <p>Already have a vendor account? <a href="{% url 'login' %}">Login here</a></p>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<!-- Vendor Registration Form End -->




<script>
    <script>
    function passwordForm() {
        return {
            fields: {
                password: '',
                confirmPassword: ''
            },
            errors: {
                password: '',
                confirmPassword: ''
            },
            validate(field) {
                // Reset errors
                this.errors.password = '';
                this.errors.confirmPassword = '';

                // Validate password strength (optional)
                if (field === 'password' && this.fields.password.length < 8) {
                    this.errors.password = 'Password must be at least 8 characters long.';
                }

                // Check if passwords match
                if (this.fields.confirmPassword && this.fields.password !== this.fields.confirmPassword) {
                    this.errors.confirmPassword = 'Passwords do not match.';
                }
            }
        }
    }

</script>

{% endblock %}
